(this.webpackJsonptbp=this.webpackJsonptbp||[]).push([[0],{14:function(t,e,n){t.exports=n(24)},19:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(13),s=n.n(r),o=(n(19),n(2)),c=n(3),u=n(4),l=n(5),h=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).animator=a.props.animator,a.animator.changeScale(1.5),a.state={opacity:1},a}return Object(c.a)(n,[{key:"isRunning",get:function(){return this.aniumator.isRunning}},{key:"componentDidMount",value:function(){this.animator.initialize(),this.animator.draw(),this.animator.toggle()}},{key:"setOpacity",value:function(t){this.setState({opacity:t})}},{key:"toggle",value:function(){this.animator.togglePause()}},{key:"render",value:function(){var t={zIndex:this.props.index,opacity:this.state.opacity};return this.animator.dimensionUpdate(),i.a.createElement("canvas",{className:"collection",id:this.animator.id,width:this.props.size,height:this.props.size,style:t})}}]),n}(i.a.Component),p=(n(20),n(1)),d=n.n(p),f=n(6),v=n(11),m=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,a,i){var r;Object(o.a)(this,n);var s="Given value '"+t+"' is invalid";return a===i||(s+=void 0===a||null===a?", must be less than "+i:void 0===i||null===i?", must be greater than "+a:", must be between "+a+" and "+i),(r=e.call(this,s)).name="CustomValueError",r}return Object(c.a)(n)}(Object(v.a)(Error)),y=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object(o.a)(this,n);var r=void 0===i?"":" of "+i,s="Limit"+r+" for "+t+" has been reached.";return(a=e.call(this,s)).name="LimitError",a}return Object(c.a)(n)}(Object(v.a)(Error)),b=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,"Cannot execute - you must "+t+" first.")).name="NotReadyError",a}return Object(c.a)(n)}(Object(v.a)(Error)),g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.x=e,this.y=n}return Object(c.a)(t,[{key:"addVector",value:function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addObject(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addObject",value:function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x+=e.x,this.y+=e.y;case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"multiply",value:function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x*=e,this.y*=e;case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"difference",value:function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new t(n.x-this.x,n.y-this.y));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"distance",value:function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.difference(e);case 2:return n=t.sent,t.abrupt("return",Math.sqrt(n.x*n.x+n.y*n.y));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"exportCoordinates",value:function(){return[this.x,this.y]}},{key:"string",get:function(){return"[ "+this.x+", "+this.y+" ]"}}]),t}(),k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.x=e,this.y=n}return Object(c.a)(t,[{key:"reset",value:function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x=0,this.y=0;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addCoords",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x+=e,this.y+=n;case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"addObject",value:function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x+=e.x,this.y+=e.y;case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"multiply",value:function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.x*=e,this.y*=e;case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"string",get:function(){return"[ "+this.x+", "+this.y+" ]"}}]),t}(),x=function(){function t(e,n,a){Object(o.a)(this,t),this.mass=e,this.position=n,this.velocity=a,this.trailLength=0,this.trail=[],this.colorIndex=0,this.trailThickness=2,this.highlight=!1,this.setRandomColor()}return Object(c.a)(t,[{key:"x",get:function(){return this.position.x}},{key:"y",get:function(){return this.position.y}},{key:"radius",get:function(){return 10*this.mass}},{key:"color",get:function(){return t.colorOptions[this.colorIndex]}},{key:"getWeightedPosition",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new g(this.x,this.y)).multiply(this.mass),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getMomentum",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new k(this.velocity.x,this.velocity.y)).multiply(this.mass),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setTrailLength",value:function(e){if(e<0||e>t.MAX_TRAIL_LENGTH)throw new m(e,0,t.MAX_TRAIL_LENGTH);return this.trailLength=e,this.trailLength}},{key:"adjustVector",value:function(){var t=Object(f.a)(d.a.mark((function t(e){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gravCoeff(e);case 2:return n=t.sent,n*=1/this.mass,t.next=6,this.position.difference(e.position);case 6:return a=t.sent,t.next=9,this.velocity.addCoords(n*a.x,n*a.y);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"adjustPosition",value:function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0!==this.trailLength&&this.trailLength>=this.trail.length&&this.trail.push(this.position.exportCoordinates()),this.trail.length>this.trailLength&&this.trail.splice(0,this.trail.length-this.trailLength),t.next=4,this.position.addVector(this.velocity);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"gravCoeff",value:function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.position.distance(e.position);case 2:return n=t.sent,t.abrupt("return",this.mass*e.mass/(n*n)*.5);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setMassSafe",value:function(t){var e=this.mass;try{this.setMass(t)}catch(n){throw n}finally{this.velocity.multiply(e/this.mass)}}},{key:"setMass",value:function(e){if(e<t.MIN_MASS||e>t.MAX_MASS)throw new m(e,t.MIN_MASS,t.MAX_MASS);this.mass=e}},{key:"setRandomColor",value:function(){return this.colorIndex=Math.floor(Math.random()*t.colorOptions.length),this.colorIndex}},{key:"setColor",value:function(e){if(e<0||e>=t.colorOptions.length)throw new m(e,0,t.colorOptions.length);return this.colorIndex=e,e}},{key:"setTrailThickness",value:function(t){if(t<=0||t>this.radius)throw new m(t,0,this.radius);return this.trailThickness=t,this.trailThickness}},{key:"string",get:function(){return"BODY SNAPSHOT\n"+("  Position: "+this.position.string)+"\n"+("  Motion vector: "+this.velocity.string)+"\n"}},{key:"logPosition",value:function(){console.log("Position snapshot: "+this.position.string)}},{key:"logvelocity",value:function(){console.log("velocity snapshot: "+this.velocity.string)}}]),t}();x.MAX_TRAIL_LENGTH=2e3,x.MIN_MASS=.1,x.MAX_MASS=1,x.colorOptions=["#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#00BCD4","#009688","#4CAF50","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];var O=x,w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(o.a)(this,t),this.bodies=e,this.centerOfMass=new g,this.velocity=new k,this.position=this.centerOfMass,this.updateMetaInfo()}return Object(c.a)(t,[{key:"addBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.addBodyCustom(1,t,e,0,0)}},{key:"addBodyCustom",value:function(e,n,a,i,r){if(this.bodies.length>=t.MAX_BODIES)throw new y("body count",t.MAX_BODIES);var s=new g(n,a),o=new k(i,r),c=new O(e,s,o);return this.bodies.push(c),c}},{key:"removeBody",value:function(t){return this.bodies.splice(t,1)[0]}},{key:"updateVectors",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.bodies.length)){t.next=14;break}n=0;case 3:if(!(n<this.bodies.length)){t.next=11;break}if(e!==n){t.next=6;break}return t.abrupt("continue",8);case 6:return t.next=8,this.bodies[e].adjustVector(this.bodies[n]);case 8:n++,t.next=3;break;case 11:e++,t.next=1;break;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updatePositions",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.bodies.length)){t.next=7;break}return t.next=4,this.bodies[e].adjustPosition();case 4:e++,t.next=1;break;case 7:return t.next=9,this.updateMetaInfo();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updateMetaInfo",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.centerOfMass.multiply(0);case 2:return t.next=4,this.velocity.multiply(0);case 4:e=0,n=0;case 6:if(!(n<this.bodies.length)){t.next=23;break}return t.t0=this.velocity,t.next=10,this.bodies[n].getMomentum();case 10:return t.t1=t.sent,t.next=13,t.t0.addObject.call(t.t0,t.t1);case 13:return t.t2=this.centerOfMass,t.next=16,this.bodies[n].getWeightedPosition();case 16:return t.t3=t.sent,t.next=19,t.t2.addObject.call(t.t2,t.t3);case 19:e+=this.bodies[n].mass;case 20:n++,t.next=6;break;case 23:return t.next=25,this.centerOfMass.multiply(1/e);case 25:return t.next=27,this.velocity.multiply(1/e);case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updateSimulation",value:function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateVectors();case 2:return t.next=4,this.updatePositions();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"logvelocitys",value:function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].logvelocity(t)}},{key:"logPositions",value:function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].logPosition(t)}},{key:"log",value:function(){console.log("CENTER OF MASS: "+this.centerOfMass().string),console.log("\nBODIES: ");for(var t=0;t<this.bodies.length;t++)console.log(this.bodies[t].string)}}]),t}();w.MAX_BODIES=10;var j=w,E=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).update=function(){a.setState({x:a.props.object.x,y:a.props.object.y})},a.state={x:a.props.object.x,y:a.props.object.y},a.updateInterval=null,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateInterval=window.setInterval(this.update,150)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.updateInterval)}},{key:"x",value:function(){return this.state.x.toFixed(2).padStart(7,"\xa0")}},{key:"y",value:function(){return this.state.y.toFixed(2).padEnd(7,"\xa0")}},{key:"render",value:function(){return i.a.createElement("tr",null,i.a.createElement("td",{className:"labelType"},i.a.createElement("span",null,this.props.label,":")),i.a.createElement("td",{className:"labelValue"},i.a.createElement("span",null,"[ ",i.a.createElement("span",null,this.x())," , ",i.a.createElement("span",null,this.y())," ]")))}}]),n}(i.a.Component),M=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),a=e.call(this,t),t.center?a.first="CENTER OF MASS":a.first="POSITION",a}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"labelWrapper"},i.a.createElement("table",{className:"labelGroup"},i.a.createElement("tbody",null,i.a.createElement(E,{object:this.props.object.position,label:this.first}),i.a.createElement(E,{object:this.props.object.velocity,label:"VELOCITY"}))))}}]),n}(i.a.Component),C=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props.collection.bodies.length,e=j.MAX_BODIES;return i.a.createElement("div",{className:"collectionMeta"},i.a.createElement("div",{className:"collectionTitle"},i.a.createElement("span",null,"Collection ",this.props.index+1)),i.a.createElement("div",{className:"collectionInfo"},i.a.createElement(M,{object:this.props.collection,center:!0}),i.a.createElement("div",{className:"bodyCount"},i.a.createElement("span",null,"Bodies: ",i.a.createElement("span",null,t)," / ",i.a.createElement("span",null,e)))))}}]),n}(i.a.Component),S=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t={background:this.props.body.color};return i.a.createElement("div",{className:"colorBox",style:t})}}]),n}(i.a.Component),N=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"capitalize",value:function(t){return t[0].toUpperCase()+t.substring(1)}},{key:"render",value:function(){return i.a.createElement("div",{className:"singleLabelWrapper"},i.a.createElement("span",{className:"singleLabelType"},this.props.label),i.a.createElement("br",null),i.a.createElement("span",{className:"singleLabelValue"},this.props.body[this.props.name].toFixed(this.props.int?2:0)))}}]),n}(i.a.Component),I=(n(22),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"nullClick",value:function(t){t.stopPropagation()}},{key:"render",value:function(){return i.a.createElement("div",{className:"modal",onClick:this.props.close},i.a.createElement("div",{className:"modalBox",onClick:this.nullClick},i.a.createElement("div",{className:"modalHeader"},i.a.createElement("div",null,i.a.createElement("h1",null,this.props.title)),i.a.createElement("div",{className:"closeModal",onClick:this.props.close},i.a.createElement("span",null,"X"))),i.a.createElement("div",{className:"modalBody"},this.props.children)))}}]),n}(i.a.Component)),A=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).changeColor=function(e){t.props.body.setColor(e),t.forceUpdate()},t}return Object(c.a)(n,[{key:"grid",value:function(){var t=this;return O.colorOptions.map((function(e,n){return i.a.createElement(T,{handleClick:t.changeColor,highlight:t.props.body.color===e,key:n,color:e,index:n})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"colorSelector"},this.grid())}}]),n}(i.a.Component),T=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).click=function(){t.props.handleClick(t.props.index)},t}return Object(c.a)(n,[{key:"render",value:function(){var t="colorBox grid"+(this.props.highlight?" current":""),e={background:this.props.color};return i.a.createElement("div",{className:t,style:e,onClick:this.click})}}]),n}(i.a.Component),L=A,B=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).alterMass=function(e){t.props.body.setMassSafe(e)},t}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodySliders"},i.a.createElement(P,{min:O.MIN_MASS,max:O.MAX_MASS,step:.01,fieldName:"mass",body:this.props.body,label:"Mass",special:this.alterMass}),i.a.createElement(P,{min:0,max:O.MAX_TRAIL_LENGTH,step:1,fieldName:"trailLength",body:this.props.body,label:"Trial length"}),i.a.createElement(P,{min:1,max:this.props.body.radius,step:1,fieldName:"trailThickness",body:this.props.body,label:"Trail thick"}))}}]),n}(i.a.Component),P=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).edit=function(t){var e=parseFloat(t.target.value);a.props.special?a.props.special(e):a.props.body[a.props.fieldName]=e,a.setState({value:t.target.value})},a.state={value:a.props.body[a.props.fieldName]},a}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodySliderWrapper"},i.a.createElement("label",{className:"slider",htmlFor:this.props.fieldName},this.props.label),i.a.createElement("div",{className:"sliderContainer"},i.a.createElement("input",{type:"range",name:this.props.fieldName,min:this.props.min,max:this.props.max,step:this.props.step,defaultValue:this.props.body[this.props.fieldName],onChange:this.edit})),i.a.createElement("label",{className:"slider value"},this.state.value))}}]),n}(i.a.Component),z=B,F=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={x:a.props.body.x,y:a.props.body.y},a}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyLocationWrapper"})}}]),n}(i.a.Component),W=(n(23),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyModal"},i.a.createElement("div",{className:"bodyModalLeftWrapper"},i.a.createElement(L,{body:this.props.body}),i.a.createElement(z,{body:this.props.body})),i.a.createElement("div",{className:"bodyModalRightWrapper"},i.a.createElement(F,{body:this.props.body,collection:this.props.collection})))}}]),n}(i.a.Component)),_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).highlight=function(){a.props.body.highlight=!0},a.unhighlight=function(){a.props.body.highlight=!1},a.showModal=function(){!a.state.modal&&a.props.editable&&a.setState({modal:!0})},a.hideModal=function(){a.setState({modal:!1}),a.unhighlight()},a.state={modal:!1},a}return Object(c.a)(n,[{key:"getModal",value:function(){return this.state.modal?i.a.createElement(I,{close:this.hideModal,title:"Body Editor"},i.a.createElement(W,{body:this.props.body,collection:this.props.collection})):""}},{key:"render",value:function(){return i.a.createElement("div",{className:"bodyInterface",onMouseEnter:this.highlight,onMouseLeave:this.unhighlight,onClick:this.showModal},this.getModal(),i.a.createElement("div",{className:"interfaceFixedWrapper"},i.a.createElement(S,{body:this.props.body})),i.a.createElement("div",{className:"interfaceOuterWrapper"},i.a.createElement("div",{className:"interfaceInnerWrapper"},i.a.createElement(M,{object:this.props.body})),i.a.createElement("div",{className:"interfaceInnerWrapper"},i.a.createElement(N,{name:"mass",label:"Mass",body:this.props.body,int:!0}),i.a.createElement(N,{name:"trailLength",label:"Trail len",body:this.props.body}),i.a.createElement(N,{name:"trailThickness",label:"Trail thick",body:this.props.body}))))}}]),n}(i.a.Component),R=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={index:0},a}return Object(c.a)(n,[{key:"collection",value:function(){return this.props.collections[this.state.index]}},{key:"rows",value:function(){var t=this,e=this.collection();return e.bodies.map((function(n,a){return i.a.createElement(_,{collection:e,body:n,key:a,index:a,editable:t.props.editable})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"interface"},i.a.createElement(C,{collection:this.collection(),index:this.state.index}),this.rows())}}]),n}(i.a.Component),D=n(8),X=function(){function t(e){Object(o.a)(this,t),this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.update()}return Object(c.a)(t,[{key:"update",value:function(){var t=Math.min(window.innerWidth,window.innerHeight);this.canvas.width=t,this.canvas.height=t,this.width=t,this.height=t,this.originX=this.width/2,this.originY=this.height/2}},{key:"translate",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n){var a,i=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:1,t.abrupt("return",[(e+this.originX)*a,(this.originY-n)*a]);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"clear",value:function(){var t=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ctx.clearRect(0,0,this.width,this.height);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"drawCoords",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n,a,i){var r,s,o,c=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>4&&void 0!==c[4]&&c[4],t.next=3,this.translate(e,n);case 3:s=t.sent,o=Object(D.a)(s,2),e=o[0],n=o[1],this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.arc(e,n,a,0,2*Math.PI),this.ctx.fill(),r&&(this.ctx.strokeStyle="white",this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.arc(e,n,a,0,2*Math.PI),this.ctx.stroke());case 12:case"end":return t.stop()}}),t,this)})));return function(e,n,a,i){return t.apply(this,arguments)}}()},{key:"drawLine",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n,a,i,r,s){var o,c,u,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.translate(e,n);case 2:return o=t.sent,c=Object(D.a)(o,2),e=c[0],n=c[1],t.next=8,this.translate(a,i);case 8:u=t.sent,l=Object(D.a)(u,2),a=l[0],i=l[1],this.ctx.strokeStyle=r,this.ctx.lineWidth=s,this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.lineTo(a,i),this.ctx.stroke();case 18:case"end":return t.stop()}}),t,this)})));return function(e,n,a,i,r,s){return t.apply(this,arguments)}}()},{key:"connectCoordinates",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.drawLine(e[0],e[1],n[0],n[1],a);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"connectPositions",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.drawLine([e.x,e.y],[n.x,n.y],a);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"drawPosition",value:function(){var t=Object(f.a)(d.a.mark((function t(e,n,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.drawCoords(e.x,e.y,n,a);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"drawBodyTrail",value:function(){var t=Object(f.a)(d.a.mark((function t(e){var n,a,i,r,s,o,c,u,l,h;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.trail.length&&e.trailLength){t.next=2;break}return t.abrupt("return");case 2:return n=Math.min(e.trail.length,e.trailLength),t.next=5,this.translate(e.x,e.y);case 5:a=t.sent,i=Object(D.a)(a,2),r=i[0],s=i[1],this.ctx.strokeStyle=e.color,this.ctx.lineWidth=e.trailThickness,this.ctx.beginPath(),this.ctx.moveTo(r,s),o=n-1;case 14:if(!(o>=0)){t.next=31;break}return t.t0=this.ctx.lineTo,t.t1=this.ctx,t.next=19,this.translate(e.trail[o][0],e.trail[o][1]);case 19:return t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2),t.next=23,this.translate(e.trail[o][0],e.trail[o][1]);case 23:c=t.sent,u=Object(D.a)(c,2),l=u[0],h=u[1],this.ctx.lineTo(l,h);case 28:o--,t.next=14;break;case 31:this.ctx.stroke();case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawBody",value:function(){var t=Object(f.a)(d.a.mark((function t(e){var n,a=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,t.next=3,this.drawCoords(e.x,e.y,e.radius*n,e.color,e.highlight);case 3:return t.next=5,this.drawBodyTrail(e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),V=function(){function t(e,n){Object(o.a)(this,t),this.collection=e,this.id=n,this.speed=1,this.isRunning=!1,this.isPaused=!0,this.isDrawing=!1,this.frame=0,this.scale=1,this.interface=null}return Object(c.a)(t,[{key:"initialize",value:function(){this.interface=new X(this.id)}},{key:"standby",value:function(){this.stop(),this.interface=null}},{key:"dimensionUpdate",value:function(){null!==this.interface&&this.interface.update()}},{key:"changeId",value:function(t){if(null!==this.interface)throw new b("put animator in standby with the standby() method");this.id=t}},{key:"changeScale",value:function(t){if(t<1)throw new m(t,1);this.scale=t}},{key:"body",value:function(t){return this.collection.bodies[t]}},{key:"calculate",value:function(){for(var t=0;t<this.speed;t++)this.collection.updateSimulation()}},{key:"draw",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isDrawing=!0,this.interface.clear(),e=0;case 3:if(!(e<this.collection.bodies.length)){t.next=9;break}return t.next=6,this.interface.drawBody(this.body(e),this.scale);case 6:e++,t.next=3;break;case 9:this.interface.drawPosition(this.collection.centerOfMass,2,"white"),this.isDrawing=!1;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loop",value:function(){var t=this;this.isPaused||this.calculate(),this.isDrawing||this.draw(),this.isRunning&&requestAnimationFrame((function(){return t.loop()}))}},{key:"pause",value:function(){this.isPaused=!0}},{key:"unpause",value:function(){this.isPaused=!1}},{key:"togglePause",value:function(){this.isPaused?this.unpause():this.pause()}},{key:"start",value:function(){var t=this;this.frame=requestAnimationFrame((function(){return t.loop()})),this.isRunning=!0}},{key:"stop",value:function(){this.isRunning=!1,cancelAnimationFrame(this.frame)}},{key:"toggle",value:function(){if(null===this.interface)throw new b("initialize Animator instance");this.isRunning?this.stop():this.start()}}]),t}(),H=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t)).updateCanvasSize=function(){a.setState({canvasSize:Math.min(window.innerWidth,window.innerHeight)})},a.toggleAll=function(){a.animators.forEach((function(t){return t.togglePause()})),a.setState({paused:!a.state.paused})};var i=new j;return i.addBody(91,-44),i.addBody(-13,-32),i.addBody(26,45),a.animators=[new V(i,"canvas0")],a.state={canvasSize:0,paused:!0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateCanvasSize(),window.addEventListener("resize",this.updateCanvasSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateCanvasSize)}},{key:"visualizers",value:function(){var t=this;return this.animators.map((function(e,n){return i.a.createElement(h,{animator:e,key:n,index:n,size:t.state.canvasSize})}))}},{key:"render",value:function(){var t={width:this.state.canvasSize,height:this.state.canvasSize,minWidth:this.state.canvasSize,flexBasis:this.state.canvasSize};return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"collectionVisuals",style:t,onClick:this.toggleAll},this.visualizers()),i.a.createElement("div",{className:"collectionInterface"},i.a.createElement(R,{collections:this.animators.map((function(t){return t.collection})),editable:this.state.paused})))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.a3bc2b00.chunk.js.map